{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/draggable-element.service\";\nexport class DraggableElementComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n  }\n  onDragStarted(event) {\n    // Invia le coordinate iniziali al backend quando inizia il trascinamento\n    const element = event.source.element.nativeElement;\n    this.sendCoordinates(element);\n  }\n  onDragEnded(event) {\n    // Invia le coordinate finali al backend quando termina il trascinamento\n    const element = event.source.element.nativeElement;\n    this.sendCoordinates(element);\n  }\n  sendCoordinates(element) {\n    const coordinates = {\n      top: element.style.top,\n      left: element.style.left\n    };\n    // Invia le coordinate al backend tramite un servizio API\n    this.apiService.saveCoordinates(coordinates).subscribe(response => {\n      console.log('Coordinate salvate:', coordinates);\n    });\n  }\n}\nDraggableElementComponent.ɵfac = function DraggableElementComponent_Factory(t) {\n  return new (t || DraggableElementComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n};\nDraggableElementComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DraggableElementComponent,\n  selectors: [[\"app-draggable-element\"]],\n  decls: 7,\n  vars: 0,\n  consts: [[1, \"draggable-container\"], [1, \"draggable\", 3, \"mousedown\", \"mousemove\", \"mouseup\"]],\n  template: function DraggableElementComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵlistener(\"mousedown\", function DraggableElementComponent_Template_div_mousedown_1_listener($event) {\n        return ctx.onDragStart($event);\n      })(\"mousemove\", function DraggableElementComponent_Template_div_mousemove_1_listener($event) {\n        return ctx.onDrag($event);\n      }, false, i0.ɵɵresolveDocument)(\"mouseup\", function DraggableElementComponent_Template_div_mouseup_1_listener($event) {\n        return ctx.onDragEnd($event);\n      }, false, i0.ɵɵresolveDocument);\n      i0.ɵɵtext(2, \"Elemento 1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵlistener(\"mousedown\", function DraggableElementComponent_Template_div_mousedown_3_listener($event) {\n        return ctx.onDragStart($event);\n      })(\"mousemove\", function DraggableElementComponent_Template_div_mousemove_3_listener($event) {\n        return ctx.onDrag($event);\n      }, false, i0.ɵɵresolveDocument)(\"mouseup\", function DraggableElementComponent_Template_div_mouseup_3_listener($event) {\n        return ctx.onDragEnd($event);\n      }, false, i0.ɵɵresolveDocument);\n      i0.ɵɵtext(4, \"Elemento 2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵlistener(\"mousedown\", function DraggableElementComponent_Template_div_mousedown_5_listener($event) {\n        return ctx.onDragStart($event);\n      })(\"mousemove\", function DraggableElementComponent_Template_div_mousemove_5_listener($event) {\n        return ctx.onDrag($event);\n      }, false, i0.ɵɵresolveDocument)(\"mouseup\", function DraggableElementComponent_Template_div_mouseup_5_listener($event) {\n        return ctx.onDragEnd($event);\n      }, false, i0.ɵɵresolveDocument);\n      i0.ɵɵtext(6, \"Elemento 3\");\n      i0.ɵɵelementEnd()();\n    }\n  },\n  styles: [\".draggable-element[_ngcontent-%COMP%] {\\r\\n  width: 100px;\\r\\n  height: 100px;\\r\\n  background-color: gray;\\r\\n  color: white;\\r\\n  position: absolute;\\r\\n  -webkit-user-select: none;\\r\\n          user-select: none;\\r\\n  cursor: grab;\\r\\n}\\r\\n\\r\\n  .draggable-element[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    line-height: 100px;\\r\\n    margin: 0;\\r\\n    cursor: grab;\\r\\n  }\\r\\n\\r\\n\\r\\n.draggable-container[_ngcontent-%COMP%] {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.draggable[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  background-color: #3498db;\\r\\n  color: #ffffff;\\r\\n  padding: 10px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.dragging[_ngcontent-%COMP%] {\\r\\n  cursor: grabbing;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kcmFnZ2FibGUtZWxlbWVudC9kcmFnZ2FibGUtZWxlbWVudC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQix5QkFBaUI7VUFBakIsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDs7RUFFRTtJQUNFLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsU0FBUztJQUNULFlBQVk7RUFDZDs7O0FBR0Y7RUFDRSxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxhQUFhO0VBQ2IsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5kcmFnZ2FibGUtZWxlbWVudCB7XHJcbiAgd2lkdGg6IDEwMHB4O1xyXG4gIGhlaWdodDogMTAwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JheTtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHVzZXItc2VsZWN0OiBub25lO1xyXG4gIGN1cnNvcjogZ3JhYjtcclxufVxyXG5cclxuICAuZHJhZ2dhYmxlLWVsZW1lbnQgcCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBsaW5lLWhlaWdodDogMTAwcHg7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBjdXJzb3I6IGdyYWI7XHJcbiAgfVxyXG5cclxuXHJcbi5kcmFnZ2FibGUtY29udGFpbmVyIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OGRiO1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uZHJhZ2dpbmcge1xyXG4gIGN1cnNvcjogZ3JhYmJpbmc7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;AASA,OAAM,MAAOA,yBAAyB;EACpCC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;EAAgB;EAE9CC,aAAa,CAACC,KAAmB;IAC/B;IACA,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAACD,OAAO,CAACE,aAAa;IAClD,IAAI,CAACC,eAAe,CAACH,OAAO,CAAC;EAC/B;EAEAI,WAAW,CAACL,KAAiB;IAC3B;IACA,MAAMC,OAAO,GAAGD,KAAK,CAACE,MAAM,CAACD,OAAO,CAACE,aAAa;IAClD,IAAI,CAACC,eAAe,CAACH,OAAO,CAAC;EAC/B;EAEQG,eAAe,CAACH,OAAoB;IAC1C,MAAMK,WAAW,GAAG;MAClBC,GAAG,EAAEN,OAAO,CAACO,KAAK,CAACD,GAAG;MACtBE,IAAI,EAAER,OAAO,CAACO,KAAK,CAACC;KACrB;IAED;IACA,IAAI,CAACX,UAAU,CAACY,eAAe,CAACJ,WAAW,CAAC,CAACK,SAAS,CAAEC,QAAQ,IAAI;MAClEC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAER,WAAW,CAAC;IACjD,CAAC,CAAC;EACJ;;AAzBWV,yBAAyB;mBAAzBA,yBAAyB;AAAA;AAAzBA,yBAAyB;QAAzBA,yBAAyB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCTtCC,8BAAiC;MACRA;QAAA,OAAaC,uBAAmB;MAAA,EAAC;QAAA,OAAuBA,kBAAc;MAAA,+BAArC;QAAA,OAA2DA,qBAAiB;MAAA,+BAA5E;MAA8ED,0BAAU;MAAAA,iBAAM;MACtJA,8BAAsI;MAA/GA;QAAA,OAAaC,uBAAmB;MAAA,EAAC;QAAA,OAAuBA,kBAAc;MAAA,+BAArC;QAAA,OAA2DA,qBAAiB;MAAA,+BAA5E;MAA8ED,0BAAU;MAAAA,iBAAM;MACtJA,8BAAsI;MAA/GA;QAAA,OAAaC,uBAAmB;MAAA,EAAC;QAAA,OAAuBA,kBAAc;MAAA,+BAArC;QAAA,OAA2DA,qBAAiB;MAAA,+BAA5E;MAA8ED,0BAAU;MAAAA,iBAAM","names":["DraggableElementComponent","constructor","apiService","onDragStarted","event","element","source","nativeElement","sendCoordinates","onDragEnded","coordinates","top","style","left","saveCoordinates","subscribe","response","console","log","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\src\\dotnet\\DashboardApp\\ClientApp\\src\\app\\components\\draggable-element\\draggable-element.component.ts","C:\\src\\dotnet\\DashboardApp\\ClientApp\\src\\app\\components\\draggable-element\\draggable-element.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { CdkDragStart, CdkDragEnd } from '@angular/cdk/drag-drop';\r\nimport { ApiService } from '../../services/draggable-element.service';\r\n\r\n@Component({\r\n  selector: 'app-draggable-element',\r\n  templateUrl: './draggable-element.component.html',\r\n  styleUrls: ['./draggable-element.component.css'],\r\n})\r\nexport class DraggableElementComponent {\r\n  constructor(private apiService: ApiService) { }\r\n\r\n  onDragStarted(event: CdkDragStart): void {\r\n    // Invia le coordinate iniziali al backend quando inizia il trascinamento\r\n    const element = event.source.element.nativeElement;\r\n    this.sendCoordinates(element);\r\n  }\r\n\r\n  onDragEnded(event: CdkDragEnd): void {\r\n    // Invia le coordinate finali al backend quando termina il trascinamento\r\n    const element = event.source.element.nativeElement;\r\n    this.sendCoordinates(element);\r\n  }\r\n\r\n  private sendCoordinates(element: HTMLElement): void {\r\n    const coordinates = {\r\n      top: element.style.top,\r\n      left: element.style.left,\r\n    };\r\n\r\n    // Invia le coordinate al backend tramite un servizio API\r\n    this.apiService.saveCoordinates(coordinates).subscribe((response) => {\r\n      console.log('Coordinate salvate:', coordinates);\r\n    });\r\n  }\r\n}\r\n","<div class=\"draggable-container\">\r\n  <div class=\"draggable\" (mousedown)=\"onDragStart($event)\" (document:mousemove)=\"onDrag($event)\" (document:mouseup)=\"onDragEnd($event)\">Elemento 1</div>\r\n  <div class=\"draggable\" (mousedown)=\"onDragStart($event)\" (document:mousemove)=\"onDrag($event)\" (document:mouseup)=\"onDragEnd($event)\">Elemento 2</div>\r\n  <div class=\"draggable\" (mousedown)=\"onDragStart($event)\" (document:mousemove)=\"onDrag($event)\" (document:mouseup)=\"onDragEnd($event)\">Elemento 3</div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}